<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Hunt the Wumpus</title>
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Georgia, serif;
      background-color: #f5f1e6;
      padding: 2em;
      max-width: 650px;
      margin: auto;
    }
    h1 {
      font-family: 'UnifrakturCook', cursive;
      font-size: 3em;
      margin-bottom: 0.2em;
    }
    #game {
      white-space: pre-wrap;
      background: #fff;
      border: 1px solid #ccc;
      padding: 1em;
      margin-top: 1em;
      min-height: 120px;
    }
    input, button {
      font-size: 1em;
      padding: 0.4em;
      margin-top: 0.5em;
    }
    #start-screen {
  text-align: left;
  margin-top: 10px;
}

    .blinking-cursor {
  display: inline-block;
  animation: blink 1s step-start infinite;
}

@keyframes blink {
  50% { opacity: 0; }
}

    #title-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1em;
  margin-bottom: 1em;
}
    
#title-row {
    display: flex;
    align-items: flex-start;
    gap: 1em;
    margin-bottom: 1em;
  }

  #title-row h1 {
    margin: 0;
    font-family: 'UnifrakturCook', cursive;
    font-size: 3em;
  }

  #rune-sequence {
  font-family: 'UnifrakturCook', cursive;
  margin-left: 0.5em;
  color: #cc3300;
  letter-spacing: 0.1em;
  font-size: 0.6em;
  vertical-align: baseline;
  position: relative;
  top: -6px; /* or 0px, -2px depending on browser */
  transition: color 0.2s ease-in-out;
}

#start-screen button {
  font-family: 'UnifrakturCook', cursive;
  font-size: 1.2em;
  background-color: #111;     /* very dark background */
  color: #ccc;                /* light gray text */
  border: 2px solid #333;     /* dark border */
  padding: 0.6em 1.2em;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: background-color 0.2s ease, color 0.2s ease;
}

#start-screen button:hover {
  background-color: #222;     /* slightly lighter on hover */
  color: #fff;                /* bright text on hover */
  border-color: #666;
}


  </style>
</head>
<body>
  <div id="title-row">
    <h1>Hunt the Wumpus <span id="rune-sequence"></span></h1>
  </div>
  
  
  <audio id="bg-music" loop>
  <source src="https://soundimage.org/wp-content/uploads/2022/11/Ancient-Mysteries_Looping.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>


   <p><strong>The Wumpus</strong> is a subterranean beast as majestic as it is elusive; as furry as it is ferocious. </p>
  
  <strong>Rules:</strong> You are in a cave with 20 rooms connected by tunnels. The Wumpus is hiding in one of the rooms. Each turn, you can either:</p>
  <ul>
    <li><strong>Go</strong> to a room</li>
    <li><strong>Shoot</strong> an arrow into a room</li>
  </ul>
  <p>If you enter the Wumpus‚Äôs room, you get eaten. If you shoot into the Wumpus‚Äôs room, you win. If you smell the Wumpus nearby, shoot an arrow before it's too late! But don't go postal; you only have 3 arrows.</p>

  
<div id="start-screen">
  <button type="button" onclick="startGame()">Play</button>
</div>

  
  <pre id="game"></pre>

  
  <div style="margin-top: 1em;">
    <input type="text" id="input" placeholder="Enter room #..." />
    <button onclick="makeMove()">Go</button>
    <button onclick="shootArrow()">Shoot</button>
    <button id="restart" onclick="restartGame()" style="display:none;">Restart Game</button>
  </div>

  <div id="hud" style="margin-top: 0.5em; font-family: monospace;">
    Room: <span id="hud-room">1</span> | Arrows: <span id="hud-arrows">3</span> | Rooms Explored: <span id="hud-turns">0</span>
  </div>

  <script>
const map = {
  1: [2, 5, 8],   2: [1, 3, 10],  3: [2, 4, 12],  4: [3, 5, 14],  5: [1, 4, 6],
  6: [5, 7, 15],  7: [6, 8, 17],  8: [1, 7, 9],   9: [8, 10, 18], 10: [2, 9, 11],
  11: [10, 12, 19], 12: [3, 11, 13], 13: [12, 14, 20], 14: [4, 13, 15],
  15: [6, 14, 16], 16: [15, 17, 20], 17: [7, 16, 18], 18: [9, 17, 19],
  19: [11, 18, 20], 20: [13, 16, 19]
};

const roomAdjectives = [
  "a narrow stone room", "üåä a flooded passageway", "a dome-shaped vault with crumbling walls",
  "a low-ceilinged tunnel", "a room etched with forgotten runes ·õ§", "a cavern that smells of sulfur",
  "a torchlit hallway with dripping walls", "ü¶¥ a room littered with bones",
  "a vaulted corridor echoing your footsteps", "a room cloaked in eerie silence"
];

const sensoryHints = [
  "The air is cold and still.", "üíß You hear distant dripping water.", "The ground crunches under your feet.",
  "üí® A breeze brushes your cheek.", "üëÅÔ∏è You feel eyes watching from the dark.",
  "A musty odor fills the air.", "You nearly trip over a broken helmet.",
  "There‚Äôs a strange warmth in the stone.", "You taste iron in the air.",
  "üî• Your torch flickers for a moment."
];

let player = 1;
let wumpus = Math.floor(Math.random() * 20) + 1;
let arrows = 3;
let turns = 0;

function updateHUD() {
  document.getElementById("hud-room").innerText = player;
  document.getElementById("hud-arrows").innerText = arrows;
  document.getElementById("hud-turns").innerText = turns;
}

function describeRoom() {
  const flavor = roomAdjectives[Math.floor(Math.random() * roomAdjectives.length)];
  const sense = sensoryHints[Math.floor(Math.random() * sensoryHints.length)];

  const output = [
    `You step into ${flavor}.`,
    sense,
    `Tunnels stretch out toward rooms ${map[player].join(', ')}.`
  ];

  if (map[player].includes(wumpus)) {
    output.push("A foul stench creeps through the stone... the Wumpus is near.");
  }

  document.getElementById("game").innerText = output.join('\n');
}

function makeMove() {
  const inputValue = document.getElementById("input").value.trim();
  const move = parseInt(inputValue);
  const validMoves = map[player];

  if (isNaN(move)) {
    document.getElementById("game").innerText = "The cave echoes back your nonsense. Try a valid room number.";
    document.getElementById("input").value = '';
    return;
  }

  if (validMoves.includes(move)) {
    player = move;
    turns++;
    updateHUD();
    if (player === wumpus) {
      document.getElementById("game").innerText = "You step into the darkness... glowing eyes blink. A scream echoes. You were devoured by the Wumpus!";
      document.getElementById("restart").style.display = 'inline';
    } else {
      describeRoom();
    }
  } else {
    const output = [
      `A stone wall blocks your path. You can't go to room ${move}.`,
      `You remain in room ${player}.`,
      `Tunnels lead to: ${validMoves.join(', ')}.`
    ];
    document.getElementById("game").innerText = output.join('\n');
  }

  document.getElementById("input").value = '';
}

function shootArrow() {
  if (arrows <= 0) {
    document.getElementById("game").innerText = "You have no arrows left. The Wumpus lives... for now.";
    return;
  }

  const inputValue = document.getElementById("input").value.trim();
  const targetRoom = parseInt(inputValue);

  arrows--;
  turns++;
  updateHUD();

  if (isNaN(targetRoom)) {
    document.getElementById("game").innerText = "Your hand trembles. Aim at a real room, adventurer.";
    document.getElementById("input").value = '';
    return;
  }

  if (map[player].includes(targetRoom)) {
    if (targetRoom === wumpus) {
      document.getElementById("game").innerText = "Your arrow whistles through the air and strikes true! The Wumpus shrieks and collapses. You are victorious!";
      document.getElementById("restart").style.display = 'inline';
    } else {
      const output = [
        "The arrow clatters in the dark... nothing stirs. The Wumpus lives.",
        "",
        `You are in room ${player}.`,
        `Tunnels lead to ${map[player].join(', ')}.`
      ];
      if (map[player].includes(wumpus)) {
        output.push("A foul stench creeps through the stone... the Wumpus is near.");
      }
      document.getElementById("game").innerText = output.join('\n');
    }
  } else {
    const output = [
      `Your shot ricochets off stone. You can't shoot into room ${targetRoom}.`,
      `From room ${player}, your bow can only reach: ${map[player].join(', ')}.`
    ];
    document.getElementById("game").innerText = output.join('\n');
  }

  document.getElementById("input").value = '';
}

function restartGame() {
  player = 1;
  wumpus = Math.floor(Math.random() * 20) + 1;
  arrows = 3;
  turns = 0;
  document.getElementById("restart").style.display = 'none';
  updateHUD();
  describeRoom();
}

function typeWriter(text, i, callback) {
  if (i < text.length) {
    document.getElementById("game").innerText = text.substring(0, i + 1);
    setTimeout(() => typeWriter(text, i + 1, callback), 40);
  } else if (typeof callback === 'function') {
    callback();
  }
}

function startGame() {
  document.getElementById("start-screen").style.display = "none";
  document.getElementById("bg-music").play();
  typeWriter(introText, 0, () => {
    const prompt = document.createElement("p");
    prompt.id = "continue-prompt";
    prompt.innerHTML = 'Press Enter to continue<span class="blinking-cursor">_</span>';
    document.getElementById("game").appendChild(prompt);
    document.addEventListener("keydown", waitForEnter);
    updateHUD(); // Ensure HUD is shown after typewriter
  });
}

function waitForEnter(e) {
  if (e.key === "Enter") {
    document.removeEventListener("keydown", waitForEnter);
    const prompt = document.getElementById("continue-prompt");
    if (prompt) prompt.remove();
    describeRoom();
  }
}

const introText = "You awaken in a cold, dripping cave. A voice echoes in your mind:\n\n*Hunt the Wumpus... or be hunted.*\n\n";

const runeOptions = ["·õâ", "·ö†", "·õÉ", "·ö¶", "‚Ä†", "‚òº", "·õè", "œû", "·õ•"];
const runeColors = ["#cc3300", "#ffaa00", "#ffcc00", "#dd22aa", "#9933ff", "#ff3366"];

function updateRuneSequence() {
  let runes = '';
  for (let i = 0; i < 4; i++) {
    runes += runeOptions[Math.floor(Math.random() * runeOptions.length)];
  }
  const color = runeColors[Math.floor(Math.random() * runeColors.length)];
  const el = document.getElementById("rune-sequence");
  el.textContent = runes;
  el.style.color = color;
}

setInterval(updateRuneSequence, 1000);





</script>


</body>
</html>
